(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1342:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"监控中心zabbix进阶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#监控中心zabbix进阶"}},[s._v("#")]),s._v(" 监控中心Zabbix进阶")]),s._v(" "),a("h2",{attrs:{id:"一、zabbix-基于snmp监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、zabbix-基于snmp监控"}},[s._v("#")]),s._v(" 一、Zabbix 基于SNMP监控")]),s._v(" "),a("h3",{attrs:{id:"_1、介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、介绍"}},[s._v("#")]),s._v(" 1、介绍")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("SNMP："),a("strong",[s._v("简单")]),s._v("网络管理协议；（非常古老的协议）")])]),s._v(" "),a("li",[a("p",[s._v("三种通信方式：读（get, getnext）、写（set）、trap（陷阱）；")])]),s._v(" "),a("li",[a("p",[s._v("端口：")])])]),s._v(" "),a("p",[s._v("161/udp")]),s._v(" "),a("p",[s._v("162/udp")]),s._v(" "),a("ul",[a("li",[s._v("SNMP协议：年代久远")])]),s._v(" "),a("p",[s._v("v1: 1989")]),s._v(" "),a("p",[s._v("v2c 1993")]),s._v(" "),a("p",[s._v("v3: 1998")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("监控网络设备：交换机、路由器")])]),s._v(" "),a("li",[a("p",[s._v("MIB：Management Information Base 信息管理基础")])]),s._v(" "),a("li",[a("p",[s._v("OID：Object ID 对象ID")])])]),s._v(" "),a("h3",{attrs:{id:"_2、linux-启用-snmp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、linux-启用-snmp"}},[s._v("#")]),s._v(" 2、Linux 启用 snmp")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install net-snmp net-snmp-utils")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("配置文件：定义ACL")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/snmp/snmpd.conf")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("启动服务：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start snmpd  # 被监控端开启的服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start snmptrapd    # 监控端开启的服务（如果允许被监控端启动主动监控时启用）")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_3、配置文件的介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置文件的介绍"}},[s._v("#")]),s._v(" 3、配置文件的介绍")]),s._v(" "),a("p",[s._v("开放数据：4步")]),s._v(" "),a("p",[a("img",{attrs:{src:t(924),alt:"img"}})]),s._v(" "),a("p",[s._v('1、定义认证符，将社区名称"public"映射为"安全名称"')]),s._v(" "),a("p",[s._v("2、将安全名称映射到一个组名")]),s._v(" "),a("p",[s._v("3、为我们创建一个视图，让我们的团队有权利")]),s._v(" "),a("p",[s._v("**掩码：**我列出一些注释，有很多，可以再网上查询")]),s._v(" "),a("p",[a("strong",[s._v(".1.3.6.1.2.1.")])]),s._v(" "),a("p",[s._v("1.1.0：系统描述信息，SysDesc")]),s._v(" "),a("p",[s._v("1.3.0：监控时间， SysUptime")]),s._v(" "),a("p",[s._v("1.5.0：主机名，SysName")]),s._v(" "),a("p",[s._v("1.7.0：主机提供的服务，SysService")]),s._v(" "),a("p",[s._v(".1.3.6.1.2.2.")]),s._v(" "),a("p",[s._v("2.1.0：网络接口数目")]),s._v(" "),a("p",[s._v("2.2.1.2:网络接口的描述信息")]),s._v(" "),a("p",[s._v("2.2.1.3:网络接口类型")]),s._v(" "),a("p",[s._v("……")]),s._v(" "),a("p",[a("img",{attrs:{src:t(925),alt:"img"}})]),s._v(" "),a("p",[s._v("4、授予对systemview视图的只读访问权")]),s._v(" "),a("p",[s._v("4、测试工具")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# snmpget -v 2c -c public HOST OID")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# snmpwalk -v 2c -c public HOST OID # 通过这个端口查询到的数据，全列出了")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:t(926),alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_4、配置snmp监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、配置snmp监控"}},[s._v("#")]),s._v(" 4、配置SNMP监控")]),s._v(" "),a("h4",{attrs:{id:"_1、下载-修改配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、下载-修改配置文件"}},[s._v("#")]),s._v(" 1、下载，修改配置文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/snmp/snmpd.conf")]),s._v("\nview    systemview    included   .1.3.6.1.2.1.1\nview    systemview    included   .1.3.6.1.2.1.2      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 网络接口的相关数据")]),s._v("\nview    systemview    included   .1.3.6.1.4.1.2021   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 系统资源负载，memory, disk io, cpu load ")]),s._v("\nview    systemview    included   .1.3.6.1.2.1.25\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"_2、在-agent-上测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、在-agent-上测试"}},[s._v("#")]),s._v(" 2、在 agent 上测试")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# snmpget -v 2c -c public 192.168.30.2 .1.3.6.1.2.1.1.3.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# snmpget -v 2c -c public 192.168.30.2 .1.3.6.1.2.1.1.5.0")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:t(927),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_3、在监控页面-给node2加一个snmp的接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、在监控页面-给node2加一个snmp的接口"}},[s._v("#")]),s._v(" 3、在监控页面，给node2加一个snmp的接口")]),s._v(" "),a("p",[a("img",{attrs:{src:t(928),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_4、在-node2-上加一个-template-os-linux-snmpv2-模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、在-node2-上加一个-template-os-linux-snmpv2-模板"}},[s._v("#")]),s._v(" 4、在 node2 上加一个 Template OS Linux SNMPv2 模板")]),s._v(" "),a("p",[a("img",{attrs:{src:t(929),alt:"img"}})]),s._v(" "),a("ul",[a("li",[s._v("模板添加成功，生成一系列东西")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(930),alt:"img"}})]),s._v(" "),a("ul",[a("li",[s._v("点开一个item 看一下")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(931),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_5、生成一些最新数据的图形-graph了"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、生成一些最新数据的图形-graph了"}},[s._v("#")]),s._v(" 5、生成一些最新数据的图形 graph了")]),s._v(" "),a("p",[a("img",{attrs:{src:t(932),alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_5、设置入站出站packets-的snmp监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、设置入站出站packets-的snmp监控"}},[s._v("#")]),s._v(" 5、设置入站出站packets 的SNMP监控")]),s._v(" "),a("h4",{attrs:{id:"_1、监控网络设备-交换机、路由器的步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、监控网络设备-交换机、路由器的步骤"}},[s._v("#")]),s._v(" 1、监控网络设备：交换机、路由器的步骤：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("把交换机、路由器的SNMP 把对应的OID的分支启用起来")])]),s._v(" "),a("li",[a("p",[s._v("了解这些分支下有哪些OID，他们分别表示什么意义")])]),s._v(" "),a("li",[a("p",[s._v("我们要监控的某一数据：如交换机的某一个接口流量、报文，发送、传入传出的报文数有多少个；传入传出的字节数有多少个，把OID取出来，保存")])])]),s._v(" "),a("h4",{attrs:{id:"_2、定义入站出站的item监控项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、定义入站出站的item监控项"}},[s._v("#")]),s._v(" 2、定义入站出站的item监控项")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("interface traffic packets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:t(933),alt:"img"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("interface traffic packets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:t(934),alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"二、zabbix-jmx接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、zabbix-jmx接口"}},[s._v("#")]),s._v(" 二、Zabbix JMX接口")]),s._v(" "),a("p",[a("img",{attrs:{src:t(935),alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_1、介绍-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、介绍-2"}},[s._v("#")]),s._v(" 1、介绍")]),s._v(" "),a("p",[s._v("Java虚拟机(JVM)具有内置的插件，使您能够使用JMX监视和管理它。您还可以使用JMX监视工具化的应用程序。")]),s._v(" "),a("h4",{attrs:{id:"_1、配置设置介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、配置设置介绍"}},[s._v("#")]),s._v(" 1、配置设置介绍")]),s._v(" "),a("h5",{attrs:{id:"_1、zabbix-java-gateway主机设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、zabbix-java-gateway主机设置"}},[s._v("#")]),s._v(" 1、zabbix-java-gateway主机设置")]),s._v(" "),a("ul",[a("li",[s._v("安装 zabbix-java-gateway程序包，启动服务；")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum -y install zabbix-java-gateway")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"_2、zabbix-server端设置-需要重启服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、zabbix-server端设置-需要重启服务"}},[s._v("#")]),s._v(" 2、zabbix-server端设置（需要重启服务）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JavaGateway")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".0.70                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#即 zabbix server IP地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JavaGatewayPort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10052")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("StartJavaPollers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#监控项")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"_3、tomcat主机设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、tomcat主机设置"}},[s._v("#")]),s._v(" 3、tomcat主机设置")]),s._v(" "),a("ul",[a("li",[s._v("监控tomcat：")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/sysconfig/tomcat")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CATALINA_OPTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Djava.rmi.server.hostname=TOMCAT_SERVER_IP -Djavax.management.builder.initial= -Dcom.sun.management.jmxremote=true -Dcom.sun.management.jmxremote.port=12345 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false"')]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启用JVM接口，默认没有启用")]),s._v("\n\njmx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("object_name,attribute_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nobject name      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 它代表MBean的对象名称")]),s._v("\nattribute name - "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一个MBean属性名称，可选的复合数据字段名称以点分隔")]),s._v("\n示例：\njmx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java.lang:type=Memory"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HeapMemoryUsage.used"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("4、 jmx的详细文档：https://docs.oracle.com/javase/1.5.0/docs/guide/management/agent.html")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("注意:")]),s._v("   如果是手动安装的tomcat  需要编辑  catalina.sh  文件 ，重启 tomcat")])]),s._v(" "),a("h3",{attrs:{id:"_2、配置jvm接口监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置jvm接口监控"}},[s._v("#")]),s._v(" 2、配置JVM接口监控")]),s._v(" "),a("h4",{attrs:{id:"_1、安装配置-tomcat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装配置-tomcat"}},[s._v("#")]),s._v(" 1、安装配置 tomcat")]),s._v(" "),a("h5",{attrs:{id:"_1、下载安装tomcat-主要是用jvm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、下载安装tomcat-主要是用jvm"}},[s._v("#")]),s._v(" 1、下载安装tomcat，主要是用JVM")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum -y install java-1.8.0-openjdk-devel tomcat-admin-webapps tomcat-docs-webapp")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"_2、加catalina-opts-启用jvm接口-默认没有启用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、加catalina-opts-启用jvm接口-默认没有启用"}},[s._v("#")]),s._v(" 2、加CATALINA_OPTS= #启用JVM接口，默认没有启用")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/sysconfig/tomcat")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CATALINA_OPTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Djava.rmi.server.hostname=192.168.30.2 -Djavax.management.builder.initial= -Dcom.sun.management.jmxremote=true   -Dcom.sun.management.jmxremote.port=12345  -Dcom.sun.management.jmxremote.ssl=false  -Dcom.sun.management.jmxremote.authenticate=false"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("3、开启服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start tomcat")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2、在-zabbix-server-端安装配置-java-gateway"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、在-zabbix-server-端安装配置-java-gateway"}},[s._v("#")]),s._v(" 2、在 zabbix-server 端安装配置 java-gateway")]),s._v(" "),a("h5",{attrs:{id:"_1、安装配置-java-gateway"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装配置-java-gateway"}},[s._v("#")]),s._v(" 1、安装配置 java-gateway")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum -y install zabbix-java-gateway")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/zabbix/zabbix_java_gateway.conf   # 安装完后，会生成一个java_gateway 的配置文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LISTEN_IP")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.0.0.0"')]),s._v("                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#监听服务器地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LISTEN_PORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10052")]),s._v("                               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#监听zabbix_java进程的端口，默认是10052")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PID_FILE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/tmp/zabbix_java.pid"')]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#zabbix_java的pid路径")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("START_POLLERS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("                                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#zabbix_java的进程数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TIMEOUT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("                                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#zabbix_java的超时时间")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start zabbix-java-gateway.service # 可不用修改，直接开启服务 ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h5",{attrs:{id:"_2、修改-server-配置开启-java-gateway-的配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、修改-server-配置开启-java-gateway-的配置"}},[s._v("#")]),s._v(" 2、修改 server 配置开启 java-gateway 的配置")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/zabbix/zabbix_server.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JavaGateway")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".30.107  \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JavaGatewayPort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10052")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("StartJavaPollers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开5个监控项")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h5",{attrs:{id:"_3、-重启zabbix-server-服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、-重启zabbix-server-服务"}},[s._v("#")]),s._v(" 3、  重启zabbix-server 服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl restart zabbix-server ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3、在node2-主机上添加jmx接口-实验模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、在node2-主机上添加jmx接口-实验模板"}},[s._v("#")]),s._v(" 3、在node2 主机上添加JMX接口，实验模板")]),s._v(" "),a("h5",{attrs:{id:"_1、添加jmx接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、添加jmx接口"}},[s._v("#")]),s._v(" 1、添加JMX接口")]),s._v(" "),a("p",[a("img",{attrs:{src:t(936),alt:"img"}})]),s._v(" "),a("h5",{attrs:{id:"_2、在-node2-上连接-tomcat-jmx-模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、在-node2-上连接-tomcat-jmx-模板"}},[s._v("#")]),s._v(" 2、在 node2 上连接 tomcat JMX 模板")]),s._v(" "),a("p",[a("img",{attrs:{src:t(937),alt:"img"}})]),s._v(" "),a("h5",{attrs:{id:"_3、随便查看一个监控项-item"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、随便查看一个监控项-item"}},[s._v("#")]),s._v(" 3、随便查看一个监控项 item")]),s._v(" "),a("p",[a("img",{attrs:{src:t(938),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_4、自己定义一个堆内存使用的监控项-基于jvm接口-没必要-使用模板就好"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、自己定义一个堆内存使用的监控项-基于jvm接口-没必要-使用模板就好"}},[s._v("#")]),s._v(" 4、自己定义一个堆内存使用的监控项，基于JVM接口（没必要，使用模板就好）")]),s._v(" "),a("p",[a("img",{attrs:{src:t(939),alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"三、zabbix-分布式监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、zabbix-分布式监控"}},[s._v("#")]),s._v(" 三、Zabbix 分布式监控")]),s._v(" "),a("p",[a("img",{attrs:{src:t(940),alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_1、介绍-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、介绍-3"}},[s._v("#")]),s._v(" 1、介绍")]),s._v(" "),a("p",[s._v("分布式监控概述：proxy and node")]),s._v(" "),a("h4",{attrs:{id:"_1、zabbix-的三种架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、zabbix-的三种架构"}},[s._v("#")]),s._v(" 1、Zabbix 的三种架构")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("Server-agent")])]),s._v(" "),a("li",[a("p",[s._v("Server-Node-agent")])]),s._v(" "),a("li",[a("p",[s._v("Server-Proxy-agent")])])]),s._v(" "),a("h4",{attrs:{id:"_2、配置介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置介绍"}},[s._v("#")]),s._v(" 2、配置介绍")]),s._v(" "),a("p",[s._v("Zabbix Proxy的配置：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("server-node-agent")])]),s._v(" "),a("li",[a("p",[s._v("server-proxy-agent")])])]),s._v(" "),a("h5",{attrs:{id:"_1、配置proxy主机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、配置proxy主机"}},[s._v("#")]),s._v(" 1、配置proxy主机")]),s._v(" "),a("h6",{attrs:{id:"_1、安装程序包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装程序包"}},[s._v("#")]),s._v(" 1、安装程序包")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("zabbix-proxy-mysql zabbix-get zabbix-agent zabbix-sender\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h6",{attrs:{id:"_2、准备数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、准备数据库"}},[s._v("#")]),s._v(" 2、准备数据库")]),s._v(" "),a("p",[s._v("创建、授权用户、导入schema.sql；")]),s._v(" "),a("h6",{attrs:{id:"_3、修改配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、修改配置文件"}},[s._v("#")]),s._v(" 3、修改配置文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Server")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" zabbix server  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主机地址；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Hostname")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("              "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前代理服务器的名称；在server添加proxy时，必须使用此处指定的名称；需要事先确保server能解析此名称；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DBHost")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DBName")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DBUser")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DBPassword")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ConfigFrequency")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# proxy被动模式下，server多少秒同步配置文件至proxy。该参数仅用于被动模式下的代理。范围是1-3600*24*7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DataSenderFrequency")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#代理将每N秒将收集的数据发送到服务器。 对于被动模式下的代理，该参数将被忽略。范围是1-3600")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h6",{attrs:{id:"_4、在-server-端添加此-porxy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、在-server-端添加此-porxy"}},[s._v("#")]),s._v(" 4、在 server 端添加此 Porxy")]),s._v(" "),a("p",[s._v("​    Administration --\x3e Proxies")]),s._v(" "),a("h6",{attrs:{id:"_5、在server端配置通过此proxy监控的主机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、在server端配置通过此proxy监控的主机"}},[s._v("#")]),s._v(" 5、在Server端配置通过此Proxy监控的主机；")]),s._v(" "),a("p",[s._v("注意：zabbix agent 端要允许 zabbix proxy 主机执行数据采集操作：")]),s._v(" "),a("h3",{attrs:{id:"_2、实现分布式-zabbix-proxy-监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、实现分布式-zabbix-proxy-监控"}},[s._v("#")]),s._v(" 2、实现分布式 zabbix proxy 监控")]),s._v(" "),a("h4",{attrs:{id:"_1、实验前准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、实验前准备"}},[s._v("#")]),s._v(" 1、实验前准备")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("ntpdate 172.168.30.1 同步时间")])]),s._v(" "),a("li",[a("p",[s._v("关闭防火墙，selinux")])]),s._v(" "),a("li",[a("p",[s._v("设置主机名 hostnamectl set-hostname zbproxy.qfedu.com")])]),s._v(" "),a("li",[a("p",[s._v("vim /etc/hosts 每个机器都设置hosts，以解析主机名；DNS也行")])])]),s._v(" "),a("p",[a("img",{attrs:{src:t(941),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_2、环境配置-4台主机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、环境配置-4台主机"}},[s._v("#")]),s._v(" 2、环境配置（4台主机）")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("机器名称")]),s._v(" "),a("th",[s._v("IP配置")]),s._v(" "),a("th",[s._v("服务角色")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("zabbix-server")]),s._v(" "),a("td",[s._v("192.168.30.107")]),s._v(" "),a("td",[s._v("监控")])]),s._v(" "),a("tr",[a("td",[s._v("agent-node1")]),s._v(" "),a("td",[s._v("192.168.30.7")]),s._v(" "),a("td",[s._v("被监控端")])]),s._v(" "),a("tr",[a("td",[s._v("agent-node2")]),s._v(" "),a("td",[s._v("192.168.30.2")]),s._v(" "),a("td",[s._v("被监控端")])]),s._v(" "),a("tr",[a("td",[s._v("node3")]),s._v(" "),a("td",[s._v("192.168.30.3")]),s._v(" "),a("td",[s._v("代理proxy")])])])]),s._v(" "),a("p",[s._v("zabbix-server 直接监控一台主机 node1")]),s._v(" "),a("p",[s._v("zabbix-server 通过代理 node3 监控 node2")]),s._v(" "),a("h4",{attrs:{id:"_3、在-node3-上配置-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、在-node3-上配置-mysql"}},[s._v("#")]),s._v(" 3、在 node3 上配置 mysql")]),s._v(" "),a("h5",{attrs:{id:"_1、创建配置-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、创建配置-mysql"}},[s._v("#")]),s._v(" 1、创建配置 mysql")]),s._v(" "),a("h6",{attrs:{id:"_1、创建-mariadb-repo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、创建-mariadb-repo"}},[s._v("#")]),s._v(" 1、创建 mariadb.repo")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/yum.repos.d/mariadb.repo")]),s._v("\n写入以下内容：\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mariadb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MariaDB \nbaseurl "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" https://mirrors.ustc.edu.cn/mariadb/yum/10.4/centos7-amd64 \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://mirrors.ustc.edu.cn/mariadb/yum/RPM-GPG-KEY-MariaDB \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h6",{attrs:{id:"_2、yum-安装最新版本-mariadb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、yum-安装最新版本-mariadb"}},[s._v("#")]),s._v(" 2、yum 安装最新版本 mariadb")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install -y MariaDB-server MariaDB-clien")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("修改配置文件")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/my.cnf.d/server.cnf")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    skip_name_resolve "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ON          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 跳过主机名解析")]),s._v("\n    innodb_file_per_table "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ON      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启独立表空间")]),s._v("\n    innodb_buffer_pool_size "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 256M  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 缓存池大小")]),s._v("\n    max_connections "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最大连接数")]),s._v("\n    log-bin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" master-log            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启二进制日志")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h6",{attrs:{id:"_3、重启我们的数据库服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、重启我们的数据库服务"}},[s._v("#")]),s._v(" 3、重启我们的数据库服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  systemctl restart mariadb")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  mysql_secure_installation  # 初始化mariadb")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h6",{attrs:{id:"_4、创建数据库-和-授权用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、创建数据库-和-授权用户"}},[s._v("#")]),s._v(" 4、创建数据库 和 授权用户")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("MariaDB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" zbxproxydb "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("character")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nMariaDB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" zbxproxydb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zbxproxyuser'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'192.168.30.%'")]),s._v(" identified "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zbxproxypass'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nMariaDB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" flush "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("privileges")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"_3、在node3-上下载zabbix-相关的包-主要是代理proxy的包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、在node3-上下载zabbix-相关的包-主要是代理proxy的包"}},[s._v("#")]),s._v(" 3、在node3 上下载zabbix 相关的包，主要是代理proxy的包")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum -y install zabbix-proxy-mysql zabbix-get zabbix-agent zabbix-sender")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"_1、初始化数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、初始化数据库"}},[s._v("#")]),s._v(" 1、初始化数据库")]),s._v(" "),a("p",[s._v("zabbix-proxy-mysql 包里带有，导入数据的文件")]),s._v(" "),a("p",[a("img",{attrs:{src:t(942),alt:"img"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp /usr/share/doc/zabbix-proxy-mysql-3.4.4/schema.sql.gz ./ 复制")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gzip -d schema.sql.gz 解包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql -root -p zbxproxydb < schema.sql 导入数据")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"_2、查看数据已经生成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、查看数据已经生成"}},[s._v("#")]),s._v(" 2、查看数据已经生成")]),s._v(" "),a("p",[a("img",{attrs:{src:t(943),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_4、配置-proxy-端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、配置-proxy-端"}},[s._v("#")]),s._v(" 4、配置 proxy 端")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/zabbix/zabbix_proxy.conf")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:t(944),alt:"img"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Server")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".30.107        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server 的IP")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ServerPort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10051")]),s._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server 的端口")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Hostname")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zbxproxy.qfedu.com  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主机名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ListenPort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10051")]),s._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# proxy自己的监听端口")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("EnableRemoteCommands")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 允许远程命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LogRemoteCommands")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 记录远程命令的日志")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据的配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DBHost")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".30.3\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DBName")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zbxproxydb  \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DBUser")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zbxproxyuser\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DBPassword")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zbxproxypass\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ConfigFrequency")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 多长时间，去服务端拖一次有自己监控的操作配置；为了实验更快的生效，这里设置30秒，默认3600s")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DataSenderFrequency")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每一秒向server 端发一次数据，发送频度")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("2、开启服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start zabbix-proxy")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_5、配置node2端允许proxy代理监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、配置node2端允许proxy代理监控"}},[s._v("#")]),s._v(" 5、配置node2端允许proxy代理监控")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/zabbix/zabbix_agentd.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Server")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".30.107,192.168.30.3\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ServerActive")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".30.107,192.168.30.3\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node3 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl restart zabbix-agent # 启动服务 ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_6、把代理加入监控-server-创建配置agent-代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、把代理加入监控-server-创建配置agent-代理"}},[s._v("#")]),s._v(" 6、把代理加入监控 server 创建配置agent 代理")]),s._v(" "),a("h5",{attrs:{id:"_1、创建agent-代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、创建agent-代理"}},[s._v("#")]),s._v(" 1、创建agent 代理")]),s._v(" "),a("p",[a("img",{attrs:{src:t(945),alt:"img"}})]),s._v(" "),a("h5",{attrs:{id:"_2、配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置"}},[s._v("#")]),s._v(" 2、配置")]),s._v(" "),a("p",[a("img",{attrs:{src:t(946),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_7、创建node2-主机并采用代理监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、创建node2-主机并采用代理监控"}},[s._v("#")]),s._v(" 7、创建node2 主机并采用代理监控")]),s._v(" "),a("p",[a("img",{attrs:{src:t(947),alt:"img"}})]),s._v(" "),a("ul",[a("li",[s._v("设置代理成功")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(948),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_8、创建item监控项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、创建item监控项"}},[s._v("#")]),s._v(" 8、创建item监控项")]),s._v(" "),a("h5",{attrs:{id:"_1、随便创一个监控项-cpu-switches"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、随便创一个监控项-cpu-switches"}},[s._v("#")]),s._v(" 1、随便创一个监控项 CPU Switches")]),s._v(" "),a("p",[a("img",{attrs:{src:t(949),alt:"img"}})]),s._v(" "),a("h5",{attrs:{id:"_2、进程里设置每秒更改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、进程里设置每秒更改"}},[s._v("#")]),s._v(" 2、进程里设置每秒更改")]),s._v(" "),a("p",[a("img",{attrs:{src:t(950),alt:"img"}})]),s._v(" "),a("h5",{attrs:{id:"_3、成功graph-图形生成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、成功graph-图形生成"}},[s._v("#")]),s._v(" 3、成功graph 图形生成")]),s._v(" "),a("p",[a("img",{attrs:{src:t(951),alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"四、"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、"}},[s._v("#")]),s._v(" 四、")]),s._v(" "),a("h3",{attrs:{id:"_1、官方的-share-分享网站"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、官方的-share-分享网站"}},[s._v("#")]),s._v(" 1、官方的 share 分享网站")]),s._v(" "),a("p",[s._v("https://share.zabbix.com/zabbix-tools-and-utilities")]),s._v(" "),a("ul",[a("li",[s._v("例如：我们要实现监控Nginx ，我们查找一个模板")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(952),alt:"img"}})]),s._v(" "),a("ul",[a("li",[s._v("就以这个模板为例")])]),s._v(" "),a("p",[s._v("​                                          "),a("img",{attrs:{src:t(953),alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_2、在node1-上使用此模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、在node1-上使用此模板"}},[s._v("#")]),s._v(" 2、在node1 上使用此模板")]),s._v(" "),a("h4",{attrs:{id:"_1、安装配置-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装配置-nginx"}},[s._v("#")]),s._v(" 1、安装配置 nginx")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum -y install nginx")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/nginx/nginx.conf  # 按照网页的操作指示")]),s._v("\nlocation /stub_status "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        stub_status on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        access_log off"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    allow 127.0.0.1;   #为了操作方便，我取消的访问控制")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    deny all;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[a("img",{attrs:{src:t(954),alt:"img"}})]),s._v(" "),a("p",[s._v("2、启动服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl restart nginx")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2、下载模板所依赖的脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、下载模板所依赖的脚本"}},[s._v("#")]),s._v(" 2、下载模板所依赖的脚本")]),s._v(" "),a("p",[a("img",{attrs:{src:t(955),alt:"img"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir -p /srv/zabbix/libexec/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /srv/zabbix/libexec/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget https://raw.githubusercontent.com/oscm/zabbix/master/nginx/nginx.sh # 从网页上获取脚本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chmod +x nginx.sh # 加执行权限")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_3、配置-agent-的用户参数-userparameter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置-agent-的用户参数-userparameter"}},[s._v("#")]),s._v(" 3、配置 agent 的用户参数 UserParameter")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /etc/zabbix/zabbix_agentd.d/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget https://raw.githubusercontent.com/oscm/zabbix/master/nginx/userparameter_nginx.conf # 很短自己写也行")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:t(956),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_4、在-windows-上下载模板并导入server-的模板中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、在-windows-上下载模板并导入server-的模板中"}},[s._v("#")]),s._v(" 4、在 windows 上下载模板并导入server 的模板中")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget https://raw.githubusercontent.com/oscm/zabbix/master/nginx/zbx_export_templates.xml")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("可以现在linux上下载，再sz 导出到 windows 上")]),s._v(" "),a("p",[a("img",{attrs:{src:t(957),alt:"img"}})]),s._v(" "),a("h5",{attrs:{id:"_1、导入下载的模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、导入下载的模板"}},[s._v("#")]),s._v(" 1、导入下载的模板")]),s._v(" "),a("p",[a("img",{attrs:{src:t(958),alt:"img"}})]),s._v(" "),a("h5",{attrs:{id:"_2、主机-node1-链接这个模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、主机-node1-链接这个模板"}},[s._v("#")]),s._v(" 2、主机 node1 链接这个模板")]),s._v(" "),a("p",[a("img",{attrs:{src:t(959),alt:"img"}})]),s._v(" "),a("h5",{attrs:{id:"_3、模板生效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、模板生效"}},[s._v("#")]),s._v(" 3、模板生效")]),s._v(" "),a("p",[a("img",{attrs:{src:t(960),alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"五、zabbix-server-监控自己-数据库-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、zabbix-server-监控自己-数据库-nginx"}},[s._v("#")]),s._v(" 五、Zabbix-server 监控自己，数据库，nginx")]),s._v(" "),a("h3",{attrs:{id:"_1、下载安装配置agent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、下载安装配置agent"}},[s._v("#")]),s._v(" 1、下载安装配置agent")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/zabbix/zabbix_agentd.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("EnableRemoteCommands")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    允许远程命令\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LogRemoteCommands")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    记录远程命令\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Server")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#建议真实ip地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ServerActive")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Hostname")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("server.qfedu.com\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"_2、自动生成-zabbix-server-的主机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、自动生成-zabbix-server-的主机"}},[s._v("#")]),s._v(" 2、自动生成 Zabbix server 的主机")]),s._v(" "),a("p",[a("img",{attrs:{src:t(961),alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_3、在主机中添加模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、在主机中添加模板"}},[s._v("#")]),s._v(" 3、在主机中添加模板")]),s._v(" "),a("p",[a("img",{attrs:{src:t(962),alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_4、启用zabbix-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、启用zabbix-server"}},[s._v("#")]),s._v(" 4、启用Zabbix server")]),s._v(" "),a("p",[a("img",{attrs:{src:t(963),alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_5、监控到数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、监控到数据"}},[s._v("#")]),s._v(" 5、监控到数据")]),s._v(" "),a("h4",{attrs:{id:"zabbix-agent-客户端操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zabbix-agent-客户端操作"}},[s._v("#")]),s._v(" zabbix_agent 客户端操作")]),s._v(" "),a("h4",{attrs:{id:"_1、mysql-创建-zabbix-账号连接本地mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、mysql-创建-zabbix-账号连接本地mysql"}},[s._v("#")]),s._v(" 1、mysql 创建 zabbix 账号连接本地mysql")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" GRANT ALL ON *.* TO "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zabbix'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" IDENTIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" FLUSH PRIVILEGES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("2、在 zabbix_agentd 创建 .my.cnf （用户名密码登录配置文件）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat  /etc/zabbix/zabbix_agentd.d/userparameter_mysql.conf  # 获取登录配置文件创建路径")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir -p /var/lib/zabbix")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在/var/lib/zabbix下创建(隐藏).my.cnf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat ./.my.cnf")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zabbix\n "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("password")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("img",{attrs:{src:t(964),alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"六、"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、"}},[s._v("#")]),s._v(" 六、")]),s._v(" "),a("h3",{attrs:{id:"_1、申请企业微信"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、申请企业微信"}},[s._v("#")]),s._v(" 1、申请企业微信")]),s._v(" "),a("h4",{attrs:{id:"_1、填写注册信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、填写注册信息"}},[s._v("#")]),s._v(" 1、填写注册信息")]),s._v(" "),a("p",[a("img",{attrs:{src:t(965),alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_2、配置微信企业号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置微信企业号"}},[s._v("#")]),s._v(" 2、配置微信企业号")]),s._v(" "),a("h4",{attrs:{id:"_1、创建告警组-然后把接受消息人加进来"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、创建告警组-然后把接受消息人加进来"}},[s._v("#")]),s._v(" 1、创建告警组，然后把接受消息人加进来")]),s._v(" "),a("p",[a("img",{attrs:{src:t(966),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_2、记录账号名称-等下填写接收人信息需要用到"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、记录账号名称-等下填写接收人信息需要用到"}},[s._v("#")]),s._v(" 2、记录账号名称，等下填写接收人信息需要用到")]),s._v(" "),a("p",[a("img",{attrs:{src:t(967),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_3、点击我的企业-查看企业信息-要记录企业corpid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、点击我的企业-查看企业信息-要记录企业corpid"}},[s._v("#")]),s._v(" 3、点击我的企业，查看企业信息，要记录企业CorpID")]),s._v(" "),a("p",[a("img",{attrs:{src:t(968),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_4、点击企业应用-创建应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、点击企业应用-创建应用"}},[s._v("#")]),s._v(" 4、点击企业应用，创建应用")]),s._v(" "),a("p",[a("img",{attrs:{src:t(969),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_5、填写信息和通知用户组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、填写信息和通知用户组"}},[s._v("#")]),s._v(" 5、填写信息和通知用户组")]),s._v(" "),a("p",[a("img",{attrs:{src:t(970),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_6、创建完-记录agentld和secret"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、创建完-记录agentld和secret"}},[s._v("#")]),s._v(" 6、创建完，记录Agentld和Secret")]),s._v(" "),a("p",[a("img",{attrs:{src:t(971),alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_3、配置zabbix服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置zabbix服务器"}},[s._v("#")]),s._v(" 3、配置zabbix服务器")]),s._v(" "),a("h4",{attrs:{id:"_1、首先确认已经记录的信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、首先确认已经记录的信息"}},[s._v("#")]),s._v(" 1、首先确认已经记录的信息")]),s._v(" "),a("p",[s._v("告警组用户的账号，企业CorpID和创建应用的Secret、Agentld")]),s._v(" "),a("h4",{attrs:{id:"_2、修改zabbix-conf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、修改zabbix-conf"}},[s._v("#")]),s._v(" 2、修改zabbix.conf")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@lqfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep alertscripts /etc/zabbix/zabbix_server.conf ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AlertScriptsPath=${datadir}/zabbix/alertscripts")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("AlertScriptsPath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/lib/zabbix/alertscripts\n我们设置zabbix默认脚本路径，这样在web端就可以获取到脚本\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_3、下载并设置脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、下载并设置脚本"}},[s._v("#")]),s._v(" 3、下载并设置脚本")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@lqfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/lib/zabbix/alertscripts/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@lqfedu.com alertscripts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget https://raw.githubusercontent.com/OneOaaS/weixin-alert/master/weixin_linux_amd64")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@lqfedu.com alertscripts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mv weixin_linux_amd64 wechat")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@lqfedu.com alertscripts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chmod 755 wechat ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@lqfedu.com alertscripts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chown zabbix:zabbix wechat ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"_4、执行脚本进行测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、执行脚本进行测试"}},[s._v("#")]),s._v(" 4、执行脚本进行测试")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@lqfedu.com alertscripts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ./wechat --corpid=xxx --corpsecret=xxx --msg="您好，告警测试" --user=用户账号 --agentid=xxx')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"errcode"')]),s._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"errmsg"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ok"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"invaliduser"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:t(972),alt:"img"}})]),s._v(" "),a("p",[s._v("提示：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-corpid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 我们企业里面的id\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--corpsecret")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 这里就是我们Secret里面的id\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-msg")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 内容\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("我们邀请用户的账号\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("因为脚本是编译过的，无法进行编辑，我们可以使用 ./wechat -h or --help 查看")]),s._v(" "),a("h3",{attrs:{id:"_4、zabbix-web页面配置告警信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、zabbix-web页面配置告警信息"}},[s._v("#")]),s._v(" 4、zabbix web页面配置告警信息")]),s._v(" "),a("h4",{attrs:{id:"_1、管理-报警媒介类型-创建告警媒介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、管理-报警媒介类型-创建告警媒介"}},[s._v("#")]),s._v(" 1、管理-报警媒介类型-创建告警媒介")]),s._v(" "),a("p",[a("img",{attrs:{src:t(973),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_2、填写报警媒介信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、填写报警媒介信息"}},[s._v("#")]),s._v(" 2、填写报警媒介信息")]),s._v(" "),a("p",[a("img",{attrs:{src:t(974),alt:"img"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--corpid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("我们企业里面的id\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--corpsecret")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("这里就是我们Secret里面的id\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--agentid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Agentld ID\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("ALERT.SENDTO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--msg")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("ALERT.MESSAGE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"_3、设置告警用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、设置告警用户"}},[s._v("#")]),s._v(" 3、设置告警用户")]),s._v(" "),a("p",[a("img",{attrs:{src:t(975),alt:"img"}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(976),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_4、设置告警动作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、设置告警动作"}},[s._v("#")]),s._v(" 4、设置告警动作")]),s._v(" "),a("p",[a("img",{attrs:{src:t(977),alt:"img"}})]),s._v(" "),a("h5",{attrs:{id:"_1、动作信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、动作信息"}},[s._v("#")]),s._v(" 1、动作信息")]),s._v(" "),a("p",[a("img",{attrs:{src:t(978),alt:"img"}})]),s._v(" "),a("h5",{attrs:{id:"_2、填写告警时候操作信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、填写告警时候操作信息"}},[s._v("#")]),s._v(" 2、填写告警时候操作信息")]),s._v(" "),a("p",[a("img",{attrs:{src:t(979),alt:"img"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("故障告警:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("TRIGGER.STATUS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("TRIGGER.NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n告警主机:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("HOST.NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n主机地址:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("HOST.IP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n告警时间:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("EVENT.DATE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("EVENT.TIME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n告警等级:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("TRIGGER.SEVERITY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n告警信息:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("TRIGGER.NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n问题详情:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("ITEM.NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("ITEM.VALUE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n事件代码:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("EVENT.ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h5",{attrs:{id:"_3、填写恢复操作信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、填写恢复操作信息"}},[s._v("#")]),s._v(" 3、填写恢复操作信息")]),s._v(" "),a("p",[a("img",{attrs:{src:t(980),alt:"img"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("故障解除:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("TRIGGER.STATUS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("TRIGGER.NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n恢复主机:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("HOST.NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n主机地址:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("HOST.IP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n恢复时间:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("EVENT.DATE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("EVENT.TIME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n恢复等级:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("TRIGGER.SEVERITY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n恢复信息:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("TRIGGER.NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n问题详情:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("ITEM.NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("ITEM.VALUE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n事件代码:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("EVENT.ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"_5、手动触发告警-测试微信接收信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、手动触发告警-测试微信接收信息"}},[s._v("#")]),s._v(" 5、手动触发告警，测试微信接收信息")]),s._v(" "),a("ul",[a("li",[s._v("在agent端使用yum安装一下redis：")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install redis -y")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("修改配置文件")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/redis.conf ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#不做任何认证操作")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("修改完成以后启动服务并检查端口：")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start redis")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ss -nutlp | grep redis")]),s._v("\ntcp    LISTEN     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("       *:6379                  *:*                   users:"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v('"redis'),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v('server"'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5250")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("fd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"_1、定义监控项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、定义监控项"}},[s._v("#")]),s._v(" 1、定义监控项")]),s._v(" "),a("ul",[a("li",[s._v("进入 配置 ---\x3e 主机 ---\x3e node1 ---\x3e 监控项（items）---\x3e 创建监控项")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(981),alt:"img"}})]),s._v(" "),a("ul",[a("li",[s._v("填写完毕以后点击下方的添加。")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(982),alt:"img"}})]),s._v(" "),a("ul",[a("li",[s._v("该监控项已成功添加。查看一下他的值：检测中 ---\x3e 最新数据")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(983),alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_2、定义触发器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、定义触发器"}},[s._v("#")]),s._v(" 2、定义触发器")]),s._v(" "),a("ul",[a("li",[s._v("进入 配置 ---\x3e 主机 ---\x3e node1 ---\x3e 触发器（trigger）---\x3e 创建触发器")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(984),alt:"img"}})]),s._v(" "),a("ul",[a("li",[s._v("填写完毕以后点击下方的添加")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(985),alt:"img"}})]),s._v(" "),a("ul",[a("li",[a("p",[s._v("该触发器已成功添加。查看：监测中 ---\x3e 最新数据\n"),a("img",{attrs:{src:t(986),alt:"img"}})])]),s._v(" "),a("li",[a("p",[s._v("手动关闭 redis 服务来检测：")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl stop redis.service")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("进入监测中 ---\x3e 问题")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(987),alt:"img"}})]),s._v(" "),a("ul",[a("li",[s._v("已经显示的是问题了。并且有持续的时间，当服务被打开，会转为已解决状态：")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@node1 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start redis.service ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:t(988),alt:"img"}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(989),alt:"无标题"}})]),s._v(" "),a("h3",{attrs:{id:"_6、微信客户端检测"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、微信客户端检测"}},[s._v("#")]),s._v(" 6、微信客户端检测")]),s._v(" "),a("h2",{attrs:{id:"七、zabbix-调优"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、zabbix-调优"}},[s._v("#")]),s._v(" 七、Zabbix 调优")]),s._v(" "),a("h3",{attrs:{id:"_1、调优"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、调优"}},[s._v("#")]),s._v(" 1、调优")]),s._v(" "),a("h4",{attrs:{id:"_1、database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、database"}},[s._v("#")]),s._v(" 1、Database：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("历史数据不要保存太长时长；")])]),s._v(" "),a("li",[a("p",[s._v("尽量让数据缓存在数据库服务器的内存中；")])])]),s._v(" "),a("p",[s._v("2、触发器表达式：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("减少使用聚合函数min(), max(), avg()；尽量使用last()，nodata()，因为聚合函数，要运算")])]),s._v(" "),a("li",[a("p",[s._v("数据收集：polling较慢(减少使用SNMP/agentless/agent）；"),a("strong",[s._v("尽量使用trapping（agent(active）主动监控）；")])])]),s._v(" "),a("li",[a("p",[s._v("数据类型：文本型数据处理速度较慢；"),a("strong",[s._v("尽量少")]),s._v("收集类型为"),a("strong",[s._v("文本")]),s._v(" text或string类型的数据；"),a("strong",[s._v("多使用")]),s._v("类型为numeric "),a("strong",[s._v("数值型数据")]),s._v(" 的；")])])]),s._v(" "),a("h3",{attrs:{id:"_2、zabbix服务器的进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、zabbix服务器的进程"}},[s._v("#")]),s._v(" 2、zabbix服务器的进程")]),s._v(" "),a("h4",{attrs:{id:"_1、服务器组件的数量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、服务器组件的数量"}},[s._v("#")]),s._v(" 1、服务器组件的数量；")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("alerter, discoverer, escalator, http poller, hourekeeper, icmp pinger, ipmi polller, poller, trapper, configration syncer, ...")])]),s._v(" "),a("li",[a("p",[s._v("StartPollers=60")])]),s._v(" "),a("li",[a("p",[s._v("StartPingers=10")])])]),s._v(" "),a("p",[s._v("...")]),s._v(" "),a("ul",[a("li",[s._v("StartDBSyncer=5")])]),s._v(" "),a("p",[s._v("...")]),s._v(" "),a("h4",{attrs:{id:"_2、设定合理的缓存大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、设定合理的缓存大小"}},[s._v("#")]),s._v(" 2、设定合理的缓存大小")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("CacheSize=8M")])]),s._v(" "),a("li",[a("p",[s._v("HistoryCacheSize=16M")])]),s._v(" "),a("li",[a("p",[s._v("HistoryIndexCacheSize=4M")])]),s._v(" "),a("li",[a("p",[s._v("TrendCacheSize=4M")])]),s._v(" "),a("li",[a("p",[s._v("ValueCacheSize=4M")])])]),s._v(" "),a("h4",{attrs:{id:"_3、数据库优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、数据库优化"}},[s._v("#")]),s._v(" 3、数据库优化")]),s._v(" "),a("p",[s._v("分表：")]),s._v(" "),a("p",[s._v("history_*")]),s._v(" "),a("p",[s._v("trends*")]),s._v(" "),a("p",[s._v("events*")]),s._v(" "),a("h3",{attrs:{id:"_3、其它解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、其它解决方案"}},[s._v("#")]),s._v(" 3、其它解决方案")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("grafana：展示")])]),s._v(" "),a("li",[a("p",[s._v("collectd：收集")])]),s._v(" "),a("li",[a("p",[s._v("influxdb：存储")])])]),s._v(" "),a("h3",{attrs:{id:"_4、grafana-collectd-influxdb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、grafana-collectd-influxdb"}},[s._v("#")]),s._v(" 4、grafana+collectd+influxdb")]),s._v(" "),a("h4",{attrs:{id:"_5、prometheus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、prometheus"}},[s._v("#")]),s._v(" 5、prometheus：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("exporter：收集")])]),s._v(" "),a("li",[a("p",[s._v("alertmanager:")])]),s._v(" "),a("li",[a("p",[s._v("grafana：展示")])])]),s._v(" "),a("h2",{attrs:{id:"八、zabbix监控实战-tomcat监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、zabbix监控实战-tomcat监控"}},[s._v("#")]),s._v(" 八、Zabbix监控实战-Tomcat监控")]),s._v(" "),a("h3",{attrs:{id:"_1、方法一-开发java监控页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、方法一-开发java监控页面"}},[s._v("#")]),s._v(" 1、方法一：开发java监控页面")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com tomcat8_1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /application/tomcat/webapps/memtest/meminfo.jsp ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("%\nRuntime rtm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Runtime.getRuntime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nlong mm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rtm.maxMemory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("/1024/1024"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nlong tm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rtm.totalMemory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("/1024/1024"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nlong fm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rtm.freeMemory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("/1024/1024"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nout.println"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"JVM memory detail info :<br>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nout.println"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Max memory:"')]),s._v("+mm+"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MB"')]),s._v("+"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<br>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nout.println"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Total memory:"')]),s._v("+tm+"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MB"')]),s._v("+"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<br>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nout.println"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Free memory:"')]),s._v("+fm+"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MB"')]),s._v("+"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<br>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nout.println"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Available memory can be used is :"')]),s._v("+"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mm+fm-tm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("+"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MB"')]),s._v("+"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<br>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n%"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"_2、方法二-使用jps命令进行监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、方法二-使用jps命令进行监控"}},[s._v("#")]),s._v(" 2、方法二：使用jps命令进行监控")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# jps -lvm")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31906")]),s._v(" org.apache.catalina.startup.Bootstrap start "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.util.logging.config.file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat8_1/conf/logging.properties "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.util.logging.manager")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("org.apache.juli.ClassLoaderLogManager "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.endorsed.dirs")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat8_1/endorsed "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcatalina.base")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat8_1 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcatalina.home")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat8_1 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.io.tmpdir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat8_1/temp\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31812")]),s._v(" org.apache.catalina.startup.Bootstrap start "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.util.logging.config.file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat/conf/logging.properties "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.util.logging.manager")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("org.apache.juli.ClassLoaderLogManager "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.endorsed.dirs")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat/endorsed "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcatalina.base")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcatalina.home")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.io.tmpdir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat/temp\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31932")]),s._v(" org.apache.catalina.startup.Bootstrap start "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.util.logging.config.file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat8_2/conf/logging.properties "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.util.logging.manager")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("org.apache.juli.ClassLoaderLogManager "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.endorsed.dirs")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat8_2/endorsed "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcatalina.base")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat8_2 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcatalina.home")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat8_2 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.io.tmpdir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/tomcat8_2/temp\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32079")]),s._v(" sun.tools.jps.Jps "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lvm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Denv.class.path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(".:/application/jdk/lib:/application/jdk/jre/lib:/application/jdk/lib/tools.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dapplication.home")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/application/jdk1.8.0_60 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms8m")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"_3、tomcat-远程监控功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、tomcat-远程监控功能"}},[s._v("#")]),s._v(" 3、Tomcat 远程监控功能")]),s._v(" "),a("h4",{attrs:{id:"_1、修改配置文件-开启远程监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、修改配置文件-开启远程监控"}},[s._v("#")]),s._v(" 1、修改配置文件，开启远程监控")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /application/tomcat8_1/bin/catalina.sh +97")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CATALINA_OPTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CATALINA_OPTS")]),s._v('\n-Dcom.sun.management.jmxremote \n-Dcom.sun.management.jmxremote.port=12345  \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.jmxremote.ssl=false \n-Djava.rmi.server.hostname=10.0.0.17"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"_2、重启服务-检查12345端口是否开启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、重启服务-检查12345端口是否开启"}},[s._v("#")]),s._v(" 2、重启服务，检查12345端口是否开启")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /application/tomcat8_1/bin/shutdown.sh ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /application/tomcat8_1/bin/startup.sh ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat -tunlp|grep 12345")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"_3、-检查端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、-检查端口"}},[s._v("#")]),s._v(" 3、 检查端口")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat -tunlp|grep 12345")]),s._v("\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::12345           :::*          LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33158")]),s._v("/java  \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("4、在windows上监控tomcat")]),s._v(" "),a("p",[a("strong",[s._v("注意：windwos需要安装jdk环境！")])]),s._v(" "),a("p",[s._v("查考：http://www.oracle.com/technetwork/java/javase/downloads/index.html")]),s._v(" "),a("h5",{attrs:{id:"_1、软件路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、软件路径"}},[s._v("#")]),s._v(" 1、软件路径")]),s._v(" "),a("div",{staticClass:"language-cmd line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("C:\\Program Files\\Java\\jdk1.8.0_31\\bin\njconsole.exe   jvisualvm.exe\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h5",{attrs:{id:"_2、jconsole-exe-使用说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、jconsole-exe-使用说明"}},[s._v("#")]),s._v(" 2、jconsole.exe 使用说明")]),s._v(" "),a("p",[a("img",{attrs:{src:t(990),alt:"img"}})]),s._v(" "),a("p",[s._v("​         连接成功即可进行监控，连接的时候注意端口信息。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(991),alt:"img"}})]),s._v(" "),a("h6",{attrs:{id:"_3、jvisualvm-exe-使用说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、jvisualvm-exe-使用说明"}},[s._v("#")]),s._v(" 3、jvisualvm.exe 使用说明")]),s._v(" "),a("p",[a("img",{attrs:{src:t(992),alt:"img"}})]),s._v(" "),a("p",[s._v("​         "),a("strong",[s._v("输入ip地址")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(993),alt:"img"}})]),s._v(" "),a("p",[s._v("​         "),a("strong",[s._v("主机添加完成，添加JMX监控")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(994),alt:"img"}})]),s._v(" "),a("p",[s._v("​            "),a("strong",[s._v("注意添加的时候输入端口信息")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(995),alt:"img"}})]),s._v(" "),a("p",[s._v("​         添加完成后就能够多tomcat程序进行监控。")]),s._v(" "),a("h3",{attrs:{id:"_4、zabbix-监控-tomcat-程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、zabbix-监控-tomcat-程序"}},[s._v("#")]),s._v(" 4、zabbix 监控 tomcat 程序")]),s._v(" "),a("h5",{attrs:{id:"_1、zabbix-服务端安装配置-java监控服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、zabbix-服务端安装配置-java监控服务"}},[s._v("#")]),s._v(" 1、zabbix 服务端安装配置 java监控服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install zabbix-java-gateway -y")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"_2、查看配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、查看配置文件"}},[s._v("#")]),s._v(" 2、查看配置文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("配置文件路径：/etc/zabbix/zabbix_java_gateway.conf\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -i -e '220a JavaGateway=127.0.0.1' -e '236a StartJavaPollers=5'  /etc/zabbix/zabbix_server.conf")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h5",{attrs:{id:"_3、启动zabbix-java-gateway服务-与zabbix服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、启动zabbix-java-gateway服务-与zabbix服务"}},[s._v("#")]),s._v(" 3、启动zabbix-java-gateway服务，与zabbix服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start zabbix-java-gateway.service")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl restart zabbix-server.service")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h5",{attrs:{id:"_4、检查java端口是否开启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、检查java端口是否开启"}},[s._v("#")]),s._v(" 4、检查java端口是否开启")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat -lntup |grep java")]),s._v("\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::10052   :::*    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72971")]),s._v("/java  \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h5",{attrs:{id:"_5、检查java进程是否存在"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、检查java进程是否存在"}},[s._v("#")]),s._v(" 5、检查java进程是否存在")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@qfedu.com ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -ef |grep [j]ava")]),s._v("\nzabbix    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72971")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":29 ?        00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-server")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dlogback.configurationFile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/zabbix/zabbix_java_gateway_logback.xml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-classpath")]),s._v(" lib:lib/android-json-4.3_r3.1.jar:lib/logback-classic-0.9.27.jar:lib/logback-core-0.9.27.jar:lib/slf4j-api-1.6.1.jar:bin/zabbix-java-gateway-3.0.13.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dzabbix.pidFile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/run/zabbix/zabbix_java.pid "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dzabbix.timeout")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dsun.rmi.transport.tcp.responseTimeout")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),s._v(" com.zabbix.gateway.JavaGateway\nzabbix    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73255")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73226")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":35 ?        00:00:00 /usr/sbin/zabbix_server: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" poller "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1 [got 0 values in 0.000002 sec, idle 5 sec]")]),s._v("\nzabbix    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73256")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73226")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":35 ?        00:00:00 /usr/sbin/zabbix_server: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" poller "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2 [got 0 values in 0.000002 sec, idle 5 sec]")]),s._v("\nzabbix    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73257")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73226")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":35 ?        00:00:00 /usr/sbin/zabbix_server: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" poller "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3 [got 0 values in 0.000002 sec, idle 5 sec]")]),s._v("\nzabbix    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73258")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73226")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":35 ?        00:00:00 /usr/sbin/zabbix_server: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" poller "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4 [got 0 values in 0.000002 sec, idle 5 sec]")]),s._v("\nzabbix    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73259")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73226")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":35 ?        00:00:00 /usr/sbin/zabbix_server: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" poller "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#5 [got 0 values in 0.000004 sec, idle 5 sec]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h5",{attrs:{id:"_6、web界面添加"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、web界面添加"}},[s._v("#")]),s._v(" 6、web界面添加")]),s._v(" "),a("h6",{attrs:{id:"_1、添加主机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、添加主机"}},[s._v("#")]),s._v(" 1、添加主机")]),s._v(" "),a("p",[a("img",{attrs:{src:t(996),alt:"img"}})]),s._v(" "),a("h6",{attrs:{id:"_2、主机管理模板-注意是jmx模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、主机管理模板-注意是jmx模板"}},[s._v("#")]),s._v(" 2、主机管理模板，注意是JMX模板")]),s._v(" "),a("p",[a("img",{attrs:{src:t(997),alt:"img"}})]),s._v(" "),a("h6",{attrs:{id:"_3、监控完成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、监控完成"}},[s._v("#")]),s._v(" 3、监控完成")]),s._v(" "),a("p",[a("img",{attrs:{src:t(998),alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_5、排除-tomcat-故障步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、排除-tomcat-故障步骤"}},[s._v("#")]),s._v(" 5、排除 tomcat 故障步骤")]),s._v(" "),a("h6",{attrs:{id:"_1、查看-catalina-out"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、查看-catalina-out"}},[s._v("#")]),s._v(" 1、查看 catalina.out")]),s._v(" "),a("h6",{attrs:{id:"_2、使用-sh-show-busy-java-threads-sh-脚本进行检测"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用-sh-show-busy-java-threads-sh-脚本进行检测"}},[s._v("#")]),s._v(" 2、使用 sh show-busy-java-threads.sh 脚本进行检测")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# @Function")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Find out the highest cpu consumed threads of java, and print the stack of these threads.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# @Usage")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   $ ./show-busy-java-threads.sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# @author Jerry Lee")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("readonly")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PROG")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("basename")]),s._v(" $0"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("readonly")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("COMMAND_LINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("usage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\nUsage: "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROG}")]),s._v(" [OPTION]...\nFind out the highest cpu consumed threads of java, and print the stack of these threads.\nExample: "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PROG}")]),s._v(" -c 10\n\nOptions:\n    -p, --pid       find out the highest cpu consumed threads from the specifed java process,\n                    default from all java process.\n    -c, --count     set the thread count to show, default is 5\n    -h, --help      display this help and exit\nEOF")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("readonly")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ARGS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("getopt "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PROG")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" c:p:h "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" count:,pid:,help -- "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ne")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" usage "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("eval")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -- "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ARGS}")]),s._v('"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n    -c"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("--count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v('"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shift")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    -p"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("--pid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v('"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shift")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    -h"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("--help"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        usage\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    --"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shift")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("break")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${count"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("5}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("redEcho")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" /dev/stdout "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if stdout is console, turn on color output.")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ne")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v('[1;31m"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v('[0m"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("yellowEcho")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" /dev/stdout "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if stdout is console, turn on color output.")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ne")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v('[1;33m"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v('[0m"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("blueEcho")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" /dev/stdout "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if stdout is console, turn on color output.")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ne")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v('[1;36m"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[s._v("\\033")]),s._v('[0m"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Check the existence of jstack command!")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" jstack "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-z")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        redEcho "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Error: jstack not found on PATH!"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v('/bin/jstack"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        redEcho "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Error: jstack not found on PATH and '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v('/bin/jstack file does NOT exists!"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v('/bin/jstack"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        redEcho "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Error: jstack not found on PATH and '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v('/bin/jstack is NOT executalbe!"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("readonly")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("uuid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%s"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("_"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("RANDOM")]),s._v("}")]),s._v("_"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$$")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("cleanupWhenExit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /tmp/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${uuid}")]),s._v("_* "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("trap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cleanupWhenExit"')]),s._v(" EXIT\n\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("printStackOfThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" line\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("IFS")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" line "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("threadId")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("threadId0x")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("printf")]),s._v(" %x $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("threadId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pcpu")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jstackFile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/tmp/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${uuid}")]),s._v("_"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pid}")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${jstackFile}")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${user}")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("}")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n                    jstack "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pid}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${jstackFile}")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$UID")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${user}")]),s._v(" jstack "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pid}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${jstackFile}")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n                        redEcho "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"['),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v("count"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("] Fail to jstack Busy("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pcpu}")]),s._v("%) thread("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${threadId}")]),s._v("/0x"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${threadId0x}")]),s._v(") stack of java process("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pid}")]),s._v(") under user("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${user}")]),s._v(')."')]),s._v("\n                        redEcho "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"User of java process('),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$user")]),s._v(") is not current user("),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$USER")]),s._v('), need sudo to run again:"')]),s._v("\n                        yellowEcho "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"    sudo '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${COMMAND_LINE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v('"')]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("continue")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                redEcho "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"['),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v("count"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("] Fail to jstack Busy("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pcpu}")]),s._v("%) thread("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${threadId}")]),s._v("/0x"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${threadId0x}")]),s._v(") stack of java process("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pid}")]),s._v(") under user("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${user}")]),s._v(')."')]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${jstackFile}")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("continue")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        blueEcho "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"['),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v("count"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("] Busy("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pcpu}")]),s._v("%) thread("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${threadId}")]),s._v("/0x"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${threadId0x}")]),s._v(") stack of java process("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pid}")]),s._v(") under user("),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${user}")]),s._v('):"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/nid=0x'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${threadId0x}")]),s._v(' /,/^$/p"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${jstackFile}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Leo")]),s._v(" pid,lwp,user,comm,pcpu --no-headers "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-z")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pid}")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'$4==\"java\"{print $0}'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pid='),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pid}")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'$1==pid,$4==\"java\"{print $0}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-k5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--lines")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${count}")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" printStackOfThread\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br")])]),a("h2",{attrs:{id:"九、zabbix-监控-php-fpm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#九、zabbix-监控-php-fpm"}},[s._v("#")]),s._v(" 九、zabbix 监控 php-fpm")]),s._v(" "),a("p",[s._v("zabbix监控php-fpm主要是通过nginx配置php-fpm的状态输出页面，在正则取值.要nginx能输出php-fpm的状态首先要先修改php-fpm的配置，没有开启nginx是没有法输出php-fpm status。")]),s._v(" "),a("h3",{attrs:{id:"_1、修改文件php-fpm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、修改文件php-fpm"}},[s._v("#")]),s._v(" 1、修改文件php-fpm")]),s._v(" "),a("p",[s._v("vim /application/php-5.5.32/etc/php-fpm.conf文件")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1469203-20181021111145530-1093315619.png",alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_2、修改nginx配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、修改nginx配置文件"}},[s._v("#")]),s._v(" 2、修改nginx配置文件")]),s._v(" "),a("p",[s._v("vim /application/nginx/conf/extra/www.conf，在server 区块下添加一行内容")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1469203-20181021111723825-434667199.png",alt:"img"}})]),s._v(" "),a("p",[a("strong",[s._v("重启nginx")])]),s._v(" "),a("h3",{attrs:{id:"_3、curl-127-0-0-1-php-status-我们可以看到php-fpm-的状态信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、curl-127-0-0-1-php-status-我们可以看到php-fpm-的状态信息"}},[s._v("#")]),s._v(" 3、curl 127.0.0.1/php_status 我们可以看到php-fpm 的状态信息")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1469203-20181021111937582-1246959624.png",alt:"img"}})]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[s._v("字段")])]),s._v(" "),a("th",[a("strong",[s._v("含义")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[s._v("pool")])]),s._v(" "),a("td",[a("strong",[s._v("php-fpm pool的名称，大多数情况下为www")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("process manager")])]),s._v(" "),a("td",[a("strong",[s._v("进程管理方式，现今大多都为dynamic，不要使用static")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("start time")])]),s._v(" "),a("td",[a("strong",[s._v("php-fpm上次启动的时间")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("start since")])]),s._v(" "),a("td",[a("strong",[s._v("php-fpm已运行了多少秒")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("accepted conn")])]),s._v(" "),a("td",[a("strong",[s._v("pool接收到的请求数")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("listen queue")])]),s._v(" "),a("td",[a("strong",[s._v("处于等待状态中的连接数，如果不为0，需要增加php-fpm进程数")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("max listen queue")])]),s._v(" "),a("td",[a("strong",[s._v("php-fpm启动到现在处于等待连接的最大数量")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("listen queue len")])]),s._v(" "),a("td",[a("strong",[s._v("处于等待连接队列的套接字大小")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("idle processes")])]),s._v(" "),a("td",[a("strong",[s._v("处于空闲状态的进程数")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("active processes")])]),s._v(" "),a("td",[a("strong",[s._v("处于活动状态的进程数")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("total processess")])]),s._v(" "),a("td",[a("strong",[s._v("进程总数")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("max active process")])]),s._v(" "),a("td",[a("strong",[s._v("从php-fpm启动到现在最多有几个进程处于活动状态")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("max children reached")])]),s._v(" "),a("td",[a("strong",[s._v("当pm试图启动更多的children进程时，却达到了进程数的限制，达到一次记录一次，如果不为0，需要增加php-fpm pool进程的最大数")])])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("slow requests")])]),s._v(" "),a("td",[a("strong",[s._v("当启用了php-fpm slow-log功能时，如果出现php-fpm慢请求这个计数器会增加，一般不当的Mysql查询会触发这个值")])])])])]),s._v(" "),a("h3",{attrs:{id:"_4、编写监控脚本和监控文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、编写监控脚本和监控文件"}},[s._v("#")]),s._v(" 4、编写监控脚本和监控文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim /server/scripts/php_fpm-status.sh\n\n#!/bin/sh\n#php-fpm status\ncase $1 in\nping) #检测php-fpm进程是否存在\n/sbin/pidof php-fpm | wc -l\n;;\nstart_since) #提取status中的start since数值\n/usr/bin/curl 127.0.0.1/php_status 2>/dev/null | awk 'NR==4{print $3}'\n;;\nconn) #提取status中的accepted conn数值\n/usr/bin/curl 127.0.0.1/php_status 2>/dev/null | awk 'NR==5{print $3}'\n;;\nlisten_queue) #提取status中的listen queue数值\n/usr/bin/curl 127.0.0.1/php_status 2>/dev/null | awk 'NR==6{print $3}'\n;;\nmax_listen_queue) #提取status中的max listen queue数值\n/usr/bin/curl 127.0.0.1/php_status 2>/dev/null | awk 'NR==7{print $4}'\n;;\nlisten_queue_len) #提取status中的listen queue len\n/usr/bin/curl 127.0.0.1/php_status 2>/dev/null | awk 'NR==8{print $4}'\n;;\nidle_processes) #提取status中的idle processes数值\n/usr/bin/curl 127.0.0.1/php_status 2>/dev/null | awk 'NR==9{print $3}'\n;;\nactive_processes) #提取status中的active processes数值\n/usr/bin/curl 127.0.0.1/php_status 2>/dev/null | awk 'NR==10{print $3}'\n;;\ntotal_processes) #提取status中的total processess数值\n/usr/bin/curl 127.0.0.1/php_status 2>/dev/null | awk 'NR==11{print $3}'\n;;\nmax_active_processes) #提取status中的max active processes数值\n/usr/bin/curl 127.0.0.1/php_status 2>/dev/null | awk 'NR==12{print $4}'\n;;\nmax_children_reached) #提取status中的max children reached数值\n/usr/bin/curl 127.0.0.1/php_status 2>/dev/null | awk 'NR==13{print $4}'\n;;\nslow_requests) #提取status中的slow requests数值\n/usr/bin/curl 127.0.0.1/php_status 2>/dev/null | awk 'NR==14{print $3}'\n;;\n*)\necho \"Usage: $0 {conn|listen_queue|max_listen_queue|listen_queue_len|idle_processes|active_processess|total_processes|max_active_processes|max_children_reached|slow_requests}\"\nexit 1\n;;\nesac\n\nvim /etc/zabbix/zabbix_agentd.d/test.conf\n\nUserParameter=php_status[*],/bin/sh /server/scripts/php_fpm-status.sh $1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br")])]),a("h3",{attrs:{id:"_5、重启服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、重启服务"}},[s._v("#")]),s._v(" 5、重启服务")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1469203-20181021115709644-600951436.png",alt:"img"}})]),s._v(" "),a("p",[s._v("在服务端测试")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1469203-20181021120116630-1188327031.png",alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_6、在web端进行配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、在web端进行配置"}},[s._v("#")]),s._v(" 6、在web端进行配置")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1469203-20181021120934677-1355519728.png",alt:"img"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1469203-20181021121048666-960995697.png",alt:"img"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1469203-20181021121417385-1782676060.png",alt:"img"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/1469203-20181021140310477-1768203390.png",alt:"img"}})]),s._v(" "),a("p",[s._v("这时候我们再来看最新监控数据，就可以看到我们监控的内容了"),a("img",{attrs:{src:"/assets/1469203-20181021143537786-1115883382.png",alt:"img"}})]),s._v(" "),a("p",[s._v("配置到这，我们PHP状态监控基本完成，根据需求配置相应的触发器，即可。")]),s._v(" "),a("p",[s._v("你要的模板")]),s._v(" "),a("p",[s._v("链接: https://pan.baidu.com/s/1z0IU82uGId-LH1EryyuwCw 提取码: q6n9")]),s._v(" "),a("h2",{attrs:{id:"十、zabbix-监控-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十、zabbix-监控-mysql"}},[s._v("#")]),s._v(" 十、zabbix 监控 mysql")]),s._v(" "),a("h3",{attrs:{id:"_1、监控规划"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、监控规划"}},[s._v("#")]),s._v(" 1、监控规划")]),s._v(" "),a("p",[s._v("在创建监控项之前要尽量考虑清楚要监控什么，怎么监控，监控数据如何存储，监控数据如何展现，如何处理报警等。要进行监控的系统规划需要对Zabbix很了解，这里只是提出监控的需求。")]),s._v(" "),a("p",[s._v("需求一：监控MySQL的状态，当状态发生异常，发出报警；")]),s._v(" "),a("p",[s._v("需求二：监控MySQL的操作，并用图表展现；")]),s._v(" "),a("h3",{attrs:{id:"_2、自定义脚本监控扩展agent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、自定义脚本监控扩展agent"}},[s._v("#")]),s._v(" 2、自定义脚本监控扩展Agent")]),s._v(" "),a("p",[s._v("Zabbix Server与Agent之间监控数据的采集主要是通过Zabbix Server主动向Agent询问某个Key的值，Agent会根据Key去调用相应的函数去获取这个值并返回给Server端。Zabbix 2.4.7的Agent本并没有内置MySQL的监控功能（但是Server端提供了相应的Template配置），所以我们需要使用Zabbix的User Parameters功能，为MySQL添加监控脚本。")]),s._v(" "),a("h3",{attrs:{id:"_3、授权mysql登录用户-agent端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、授权mysql登录用户-agent端"}},[s._v("#")]),s._v(" 3、授权mysql登录用户（agent端）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> grant usage on *.* to zabbix@127.0.0.1 identified by '123456';\n\nmysql> flush privileges;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_4、agent端配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、agent端配置"}},[s._v("#")]),s._v(" 4、agent端配置")]),s._v(" "),a("h4",{attrs:{id:"存活检测"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#存活检测"}},[s._v("#")]),s._v(" 存活检测")]),s._v(" "),a("p",[s._v("利用UserParameter参数自定义Agent Key。\n对于需求一 ，我们采用mysqladmin这个工具来实现，命令如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# mysqladmin -h 127.0.0.1 -u zabbix -p123456 ping \nmysqld is alive\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("如果MySQL状态正常，会显示mysqld is alive，否则会提示连接不上。对于服务器端，mysqld is alive这样的句子不好理解，服务器端最好只接收1和0，1表示服务可用，0表示服务不可用。那么再改进一下这个命令，如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# mysqladmin -h 127.0.0.1 -u zabbix -p123456 ping |grep -c alive\n1\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("用户名和密码放在命令中对于以后的维护不好，所以我们在/var/lib/zabbix/下创建一个包含MySQL用户名和密码的配置文件“.my.cnf”，如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("user=zabbix\nhost=127.0.0.1\npassword='123456'\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("有了这个文件后的命令变更为")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("HOME=/var/lib/zabbix/ mysqladmin ping |grep -c alive\n1\n\t\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("做完这一步后需要做的就是，将这个监控命令添加到Zabbix Agent中，并与一个Key对应，这样Zabbox Server就能通过这个Key获取MySQL的状态了。我们使用mysql.ping作为MySQL状态的Key。")]),s._v(" "),a("p",[s._v("首先在去除/etc/zabbix/zabbix_agentd.conf中")]),s._v(" "),a("p",[s._v("“Include=/etc/zabbix_agentd.d/” 这一行的注释符。")]),s._v(" "),a("p",[s._v("其次，在/etc/zabbix/zabbix_agentd.d/目录下创建userparameter_mysql.conf文件。在文件中添加如下命令：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("UserParameter=mysql.ping,HOME=/var/lib/zabbix mysqladmin ping | grep -c alive\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("使用下面的命令测试是否正常工作。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# /usr/sbin/zabbix_agentd -t mysql.ping\nmysql.ping                                    [t|1]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"其他性能指标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他性能指标"}},[s._v("#")]),s._v(" 其他性能指标")]),s._v(" "),a("h5",{attrs:{id:"_1-添加userparameter-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-添加userparameter-mysql"}},[s._v("#")]),s._v(" 1.添加userparameter_mysql")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim /etc/zabbix/zabbix_agentd.d/userparameter_mysql.conf\n\n####监控mysql性能的脚本\n\nUserParameter=mysql.status[*],/etc/zabbix/zabbix_agentd.d/check_mysql.sh $1\n\n#####mysql版本\n\nUserParameter=mysql.version,mysql -V\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h5",{attrs:{id:"_2-check-mysql-sh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-check-mysql-sh"}},[s._v("#")]),s._v(" 2.check_mysql.sh")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('#!/bin/bash\n# -------------------------------------------------------------------------------\n# FileName: check_mysql.sh\n# Revision: 1.0\n# -------------------------------------------------------------------------------\n# Copyright:\n# License: GPL\n\n# 用户名\nMYSQL_USER=\'zabbix\'\n\n# 密码\nMYSQL_PWD=\'zabbix@123\'\n\n# 主机地址/IP\nMYSQL_HOST=\'ip\'\n\n# 端口\nMYSQL_PORT=\'3306\'\n\n# 数据连接\nMYSQL_CONN="/usr/bin/mysqladmin -u${MYSQL_USER} -p${MYSQL_PWD} -h${MYSQL_HOST} -P${MYSQL_PORT}"\n\n# 参数是否正确\nif [ $# -ne "1" ];then\necho "arg error!"\nfi\n\n# 获取数据\ncase $1 in\nUptime)\nresult=`${MYSQL_CONN} status 2>/dev/null |cut -f2 -d":"|cut -f1 -d"T"`\necho $result\n;;\nCom_update)\nresult=`${MYSQL_CONN} extended-status   2>/dev/null  |grep -w "Com_update"|cut -d"|" -f3`\necho $result\n;;\nSlow_queries)\nresult=`${MYSQL_CONN} status  2>/dev/null  |cut -f5 -d":"|cut -f1 -d"O"`\necho $result\n;;\nCom_select)\nresult=`${MYSQL_CONN} extended-status  2>/dev/null  |grep -w "Com_select"|cut -d"|" -f3`\necho $result\n;;\nCom_rollback)\nresult=`${MYSQL_CONN} extended-status  2>/dev/null   |grep -w "Com_rollback"|cut -d"|" -f3`\necho $result\n;;\nQuestions)\nresult=`${MYSQL_CONN} status   2>/dev/null |cut -f4 -d":"|cut -f1 -d"S"`\necho $result\n;;\nCom_insert)\nresult=`${MYSQL_CONN} extended-status   2>/dev/null  |grep -w "Com_insert"|cut -d"|" -f3`\necho $result\n;;\nCom_delete)\nresult=`${MYSQL_CONN} extended-status   2>/dev/null  |grep -w "Com_delete"|cut -d"|" -f3`\necho $result\n;;\nCom_commit)\nresult=`${MYSQL_CONN} extended-status   2>/dev/null  |grep -w "Com_commit"|cut -d"|" -f3`\necho $result\n;;\nBytes_sent)\nresult=`${MYSQL_CONN} extended-status  2>/dev/null  |grep -w "Bytes_sent" |cut -d"|" -f3`\necho $result\n;;\nBytes_received)\nresult=`${MYSQL_CONN} extended-status  2>/dev/null  |grep -w "Bytes_received" |cut -d"|" -f3`\necho $result\n;;\nCom_begin)\nresult=`${MYSQL_CONN} extended-status  2>/dev/null  |grep -w "Com_begin"|cut -d"|" -f3`\necho $result\n;;\n\n*)\necho "Usage:$0(Uptime|Com_update|Slow_queries|Com_select|Com_rollback|Questions|Com_insert|Com_delete|Com_commit|Bytes_sent|Bytes_received|Com_begin)"\n;;\nesac\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br")])]),a("h5",{attrs:{id:"_3-授权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-授权"}},[s._v("#")]),s._v(" 3.授权：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chmod +x  /etc/zabbix/zabbix_agentd.d/check_mysql.sh\n\nChown zabbix.zabbix  /etc/zabbix/zabbix_agentd.d/check_mysql.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"_4-zabbix-agent上测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-zabbix-agent上测试"}},[s._v("#")]),s._v(" 4.   zabbix_agent上测试：")]),s._v(" "),a("p",[s._v("zabbix_agentd -t mysql.ping")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/image-20200408141921337.png",alt:"image-20200408141921337"}})]),s._v(" "),a("h5",{attrs:{id:"_5-zabbix-server测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-zabbix-server测试"}},[s._v("#")]),s._v(" 5.Zabbix_server测试")]),s._v(" "),a("p",[s._v("zabbix_get -s ip -P 端口  -k mysql.ping")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/clip_image002.jpg",alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_5、在web端进行配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、在web端进行配置"}},[s._v("#")]),s._v(" 5、在web端进行配置")]),s._v(" "),a("p",[s._v("**创建主机 **")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/clip_image002.gif",alt:"IMG_256"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/clip_image004.gif",alt:"IMG_257"}})]),s._v(" "),a("p",[a("strong",[s._v("关联模板")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/clip_image006.gif",alt:"IMG_258"}})]),s._v(" "),a("p",[a("strong",[s._v("创建监控项")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/clip_image008.gif",alt:"IMG_259"}})]),s._v(" "),a("p",[a("strong",[s._v("创建图形")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/clip_image010.gif",alt:"IMG_260"}})]),s._v(" "),a("p",[a("strong",[s._v("查看监控图像")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/clip_image012.gif",alt:"IMG_261"}})]),s._v(" "),a("p",[s._v("其他监控项以此配置完成")]),s._v(" "),a("h3",{attrs:{id:"_6、zabbix自带mysql监控项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、zabbix自带mysql监控项"}},[s._v("#")]),s._v(" 6、zabbix自带mysql监控项")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("version:数据库版本\nkey_buffer_size:myisam的索引buffer大小\nsort_buffer_size:会话的排序空间（每个线程会申请一个）\njoin_buffer_size:这是为链接操作分配的最小缓存大小，这些连接使用普通索引扫描、范围扫描、或者连接不适用索引\nmax_connections:最大允许同时连接的数量\nmax_connect_errors：允许一个主机最多的错误链接次数，如果超过了就会拒绝之后链接（默认100）。可以使用flush hosts命令去解除拒绝\nopen_files_limits:操作系统允许mysql打开的文件数量，可以通过opened_tables状态确定是否需要增大table_open_cache,如果opened_tables比较大且一直还在增大说明需要增大table_open_cache\nmax-heap_tables_size:建立的内存表的最大大小（默认16M）这个参数和tmp_table_size一起限制内部临时表的最大值(取这两个参数的小的一个），如果超过限制，则表会变为innodb或myisam引擎，（5.7.5之前是默认是myisam，5.7.6开始是innodb，可以通过internal_tmp_disk_storage_engine参数调整）。\nmax_allowed_packet:一个包的最大大小\n##########GET INNODB INFO\n#INNODB variables\ninnodb_version:\ninnodb_buffer_pool_instances：将innodb缓冲池分为指定的多个（默认为1）\ninnodb_buffer_pool_size:innodb缓冲池大小、5.7.5引入了innodb_buffer_pool_chunk_size,\ninnodb_doublewrite：是否开启doublewrite（默认开启）\ninnodb_read_io_threads:IO读线程的数量\ninnodb_write_io_threads:IO写线程的数量\n########innodb status\ninnodb_buffer_pool_pages_total:innodb缓冲池页的数量、大小等于innodb_buffer_pool_size/(16*1024)\ninnodb_buffer_pool_pages_data:innodb缓冲池中包含数据的页的数量\n########## GET MYSQL HITRATE\n1、查询缓存命中率\n如果Qcache_hits+Com_select<>0则为 Qcache_hits/（Qcache_hits+Com_select），否则为0\n\n2、线程缓存命中率\n如果Connections<>0,则为1-Threads_created/Connections，否则为0\n\n3、myisam键缓存命中率\n如果Key_read_requests<>0,则为1-Key_reads/Key_read_requests，否则为0\n\n4、myisam键缓存写命中率\n如果Key_write_requests<>0,则为1-Key_writes/Key_write_requests，否则为0\n\n5、键块使用率\n如果Key_blocks_used+Key_blocks_unused<>0，则Key_blocks_used/（Key_blocks_used+Key_blocks_unused），否则为0\n\n6、创建磁盘存储的临时表比率\n如果Created_tmp_disk_tables+Created_tmp_tables<>0,则Created_tmp_disk_tables/（Created_tmp_disk_tables+Created_tmp_tables），否则为0\n\n7、连接使用率\n如果max_connections<>0，则threads_connected/max_connections，否则为0\n\n8、打开文件比率\n如果open_files_limit<>0，则open_files/open_files_limit，否则为0\n\n9、表缓存使用率\n如果table_open_cache<>0，则open_tables/table_open_cache，否则为0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br")])]),a("h2",{attrs:{id:"十一、-zabbix其他常用自定义监控项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十一、-zabbix其他常用自定义监控项"}},[s._v("#")]),s._v(" 十一、 zabbix其他常用自定义监控项")]),s._v(" "),a("h3",{attrs:{id:"redis相关的自定义项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis相关的自定义项"}},[s._v("#")]),s._v(" redis相关的自定义项")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim /usr/local/zabbix/etc/zabbix_agentd.conf.d/redis.conf\nUserParameter=Redis.Status,/usr/local/redis/bin/redis-cli -h 127.0.0.1 -p 6379 ping |grep -c PONG\nUserParameter=Redis_conn[*],/usr/local/redis/bin/redis-cli -h $1 -p $2 info | grep -w \"connected_clients\" | awk -F':' '{print $2}'\nUserParameter=Redis_rss_mem[*],/usr/local/redis/bin/redis-cli -h $1 -p $2 info | grep -w \"used_memory_rss\" | awk -F':' '{print $2}'\nUserParameter=Redis_lua_mem[*],/usr/local/redis/bin/redis-cli -h $1 -p $2 info | grep -w \"used_memory_lua\" | awk -F':' '{print $2}'\nUserParameter=Redis_cpu_sys[*],/usr/local/redis/bin/redis-cli -h $1 -p $2 info | grep -w \"used_cpu_sys\" | awk -F':' '{print $2}'\nUserParameter=Redis_cpu_user[*],/usr/local/redis/bin/redis-cli -h $1 -p $2 info | grep -w \"used_cpu_user\" | awk -F':' '{print $2}'\nUserParameter=Redis_cpu_sys_cline[*],/usr/local/redis/bin/redis-cli -h $1 -p $2 info | grep -w \"used_cpu_sys_children\" | awk -F':' '{print $2}'\nUserParameter=Redis_cpu_user_cline[*],/usr/local/redis/bin/redis-cli -h $1 -p $2 info | grep -w \"used_cpu_user_children\" | awk -F':' '{print $2}'\nUserParameter=Redis_keys_num[*],/usr/local/redis/bin/redis-cli -h $1 -p $2 info | grep -w \"$$1\" | grep -w \"keys\" | grep db$3 | awk -F'=' '{print $2}' | awk -F',' '{print $1}'\nUserParameter=Redis_loading[*],/usr/local/redis/bin/redis-cli -h $1 -p $2 info | grep loading | awk -F':' '{print $$2}'\n\nRedis.Status --检测Redis运行状态， 返回整数\nRedis_conn  --检测Redis成功连接数，返回整数\nRedis_rss_mem  --检测Redis系统分配内存，返回整数\nRedis_lua_mem  --检测Redis引擎消耗内存，返回整数\nRedis_cpu_sys --检测Redis主程序核心CPU消耗率，返回整数\nRedis_cpu_user --检测Redis主程序用户CPU消耗率，返回整数\nRedis_cpu_sys_cline --检测Redis后台核心CPU消耗率，返回整数\nRedis_cpu_user_cline --检测Redis后台用户CPU消耗率，返回整数\nRedis_keys_num --检测库键值数，返回整数\nRedis_loding --检测Redis持久化文件状态，返回整数\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h3",{attrs:{id:"nginx相关的自定义项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx相关的自定义项"}},[s._v("#")]),s._v(" nginx相关的自定义项")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('vim /etc/nginx/conf.d/default.conf\n    location /nginx-status\n    {\n        stub_status on;\n        access_log off;\n        allow 127.0.0.1;\n        deny all;\n    }\n\n    \nvim /usr/local/zabbix/etc/zabbix_agentd.conf.d/nginx.conf\nUserParameter=Nginx.active,/usr/bin/curl -s "http://127.0.0.1:80/nginx-status" | awk \'/Active/ {print $NF}\'\nUserParameter=Nginx.read,/usr/bin/curl -s "http://127.0.0.1:80/nginx-status" | grep \'Reading\' | cut -d" " -f2\nUserParameter=Nginx.wrie,/usr/bin/curl -s "http://127.0.0.1:80/nginx-status" | grep \'Writing\' | cut -d" " -f4\nUserParameter=Nginx.wait,/usr/bin/curl -s "http://127.0.0.1:80/nginx-status" | grep \'Waiting\' | cut -d" " -f6\nUserParameter=Nginx.accepted,/usr/bin/curl -s "http://127.0.0.1:80/nginx-status" | awk \'/^[ \\t]+[0-9]+[ \\t]+[0-9]+[ \\t]+[0-9]+/ {print $1}\'\nUserParameter=Nginx.handled,/usr/bin/curl -s "http://127.0.0.1:80/nginx-status" | awk \'/^[ \\t]+[0-9]+[ \\t]+[0-9]+[ \\t]+[0-9]+/ {print $2}\'\nUserParameter=Nginx.requests,/usr/bin/curl -s "http://127.0.0.1:80/nginx-status" | awk \'/^[ \\t]+[0-9]+[ \\t]+[0-9]+[ \\t]+[0-9]+/ {print $3}\'\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h3",{attrs:{id:"tcp相关的自定义项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp相关的自定义项"}},[s._v("#")]),s._v(" TCP相关的自定义项")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim /usr/local/zabbix/share/zabbix/alertscripts/tcp_connection.sh\n#!/bin/bash\nfunction ESTAB { \n/usr/sbin/ss -ant |awk '{++s[$1]} END {for(k in s) print k,s[k]}' | grep 'ESTAB' | awk '{print $2}'\n}\nfunction TIMEWAIT {\n/usr/sbin/ss -ant | awk '{++s[$1]} END {for(k in s) print k,s[k]}' | grep 'TIME-WAIT' | awk '{print $2}'\n}\nfunction LISTEN {\n/usr/sbin/ss -ant | awk '{++s[$1]} END {for(k in s) print k,s[k]}' | grep 'LISTEN' | awk '{print $2}'\n}\n$1\n\nvim /usr/local/zabbix/etc/zabbix_agentd.conf.d/cattcp.conf\nUserParameter=tcp[*],/usr/local/zabbix/share/zabbix/alertscripts/tcp_connection.sh $1\n\ntcp[TIMEWAIT] --检测TCP的驻留数，返回整数\ntcp[ESTAB]  --检测tcp的连接数、返回整数\ntcp[LISTEN] --检测TCP的监听数，返回整数\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"系统监控常用自带监控项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统监控常用自带监控项"}},[s._v("#")]),s._v(" 系统监控常用自带监控项")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("agent.ping 检测客户端可达性、返回nothing表示不可达。1表示可达\nsystem.cpu.load --检测cpu负载。返回浮点数\nsystem.cpu.util -- 检测cpu使用率。返回浮点数\nvfs.dev.read -- 检测硬盘读取数据，返回是sps.ops.bps浮点类型，需要定义1024倍\nvfs.dev.write -- 检测硬盘写入数据。返回是sps.ops.bps浮点类型，需要定义1024倍\nnet.if.out[br0] --检测网卡流速、流出方向，时间间隔为60S\nnet-if-in[br0] --检测网卡流速，流入方向（单位：字节） 时间间隔60S\nproc.num[]  目前系统中的进程总数，时间间隔60s\nproc.num[,,run] 目前正在运行的进程总数，时间间隔60S\n###处理器信息\n通过zabbix_get 获取负载值\n合理的控制用户态、系统态、IO等待时间剋保证进程高效率的运行\n系统态运行时间较高说明进程进行系统调用的次数比较多，一般的程序如果系统态运行时间占用过高就需要优化程序，减少系统调用\nio等待时间过高则表明硬盘的io性能差，如果是读写文件比较频繁、读写效率要求比较高，可以考虑更换硬盘，或者使用多磁盘做raid的方案\nsystem.cpu.swtiches --cpu的进程上下文切换，单位sps，表示每秒采样次数，api中参数history需指定为3\nsystem.cpu.intr  --cpu中断数量、api中参数history需指定为3\nsystem.cpu.load[percpu,avg1]  --cpu每分钟的负载值，按照核数做平均值(Processor load (1 min average per core))，api中参数history需指定为0\nsystem.cpu.load[percpu,avg5]  --cpu每5分钟的负载值，按照核数做平均值(Processor load (5 min average per core))，api中参数history需指定为0\nsystem.cpu.load[percpu,avg15]  --cpu每5分钟的负载值，按照核数做平均值(Processor load (15 min average per core))，api中参数history需指定为0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"系统监控常用自定义监控项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统监控常用自定义监控项"}},[s._v("#")]),s._v(" 系统监控常用自定义监控项")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("####内存相关\nvim /usr/local/zabbix/etc/zabbix_agentd.conf.d/catcarm.conf\nUserParameter=ram.info[*],/bin/cat  /proc/meminfo  |awk '/^$1:{print $2}'\nram.info[Cached] --检测内存的缓存使用量、返回整数，需要定义1024倍\nram.info[MemFree] --检测内存的空余量，返回整数，需要定义1024倍\nram.info[Buffers] --检测内存的使用量，返回整数，需要定义1024倍\n\n####TCP相关的自定义项\nvim /usr/local/zabbix/share/zabbix/alertscripts/tcp_connection.sh\n#!/bin/bash\nfunction ESTAB { \n/usr/sbin/ss -ant |awk '{++s[$1]} END {for(k in s) print k,s[k]}' | grep 'ESTAB' | awk '{print $2}'\n}\nfunction TIMEWAIT {\n/usr/sbin/ss -ant | awk '{++s[$1]} END {for(k in s) print k,s[k]}' | grep 'TIME-WAIT' | awk '{print $2}'\n}\nfunction LISTEN {\n/usr/sbin/ss -ant | awk '{++s[$1]} END {for(k in s) print k,s[k]}' | grep 'LISTEN' | awk '{print $2}'\n}\n$1\n\nvim /usr/local/zabbix/etc/zabbix_agentd.conf.d/cattcp.conf\nUserParameter=tcp[*],/usr/local/zabbix/share/zabbix/alertscripts/tcp_connection.sh $1\n\ntcp[TIMEWAIT] --检测TCP的驻留数，返回整数\ntcp[ESTAB]  --检测tcp的连接数、返回整数\ntcp[LISTEN] --检测TCP的监听数，返回整数\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports},924:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172045276-679726746.3d165a05.png"},925:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172045604-1497693285.6951eb5b.png"},926:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172045948-698976544.c58e26b1.png"},927:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172046245-1946753487.c58e26b1.png"},928:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172046541-990434657.70299c2b.png"},929:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172046854-1430722762.1cde768a.png"},930:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172047151-639977143.48a4fc5c.png"},931:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172047463-1455547608.fd5065b3.png"},932:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172047729-481410869.72adee63.png"},933:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172048182-394941521.37b67548.png"},934:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172048510-973935048.b184e4a8.png"},935:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172048698-2048639928.9e7dc2bb.png"},936:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172049182-664693382.1d1fee5d.png"},937:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172049541-701630088.c200ff71.png"},938:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172050010-1062166097.d2facd59.png"},939:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172050479-619246539.7e54278c.png"},940:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172050995-2135249770.8a1278f4.png"},941:function(s,a){s.exports="data:image/png;base64,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"},942:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172052791-1016956277.8d8d6abb.png"},943:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172053276-1712858671.cc29c1ec.png"},944:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172053682-47495044.675480d9.png"},945:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172053932-978486530.75e9185d.png"},946:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172054213-335809349.9f0b8a82.png"},947:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172054682-1009619727.b34dc5cc.png"},948:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172055307-1060200173.1ea22694.png"},949:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172055698-1128474710.a4ac8a58.png"},950:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172055932-1067681793.20540ff9.png"},951:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172056416-1575771036.4201481e.png"},952:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172057635-1089716709.81666a2f.png"},953:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172058182-128310444.1b494a7d.png"},954:function(s,a){s.exports="data:image/png;base64,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"},955:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172058823-57198051.a2ed56c6.png"},956:function(s,a){s.exports="data:image/png;base64,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"},957:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172059291-1133694346.0bfc6d74.png"},958:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172059635-1317185355.21118c02.png"},959:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172100041-1015144646.21d0061c.png"},960:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172100323-635966866.8e65f4b6.png"},961:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172101526-749330259.8613ac83.png"},962:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172101885-2112581492.b051c251.png"},963:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172102370-823261452.4f995f08.png"},964:function(s,a,t){s.exports=t.p+"assets/img/1216496-20171226172102698-926445046.71715b91.png"},965:function(s,a,t){s.exports=t.p+"assets/img/20180616131755799-1581514954519.65908312.png"},966:function(s,a,t){s.exports=t.p+"assets/img/20180616132217589-1581514954520.2dbe6242.png"},967:function(s,a,t){s.exports=t.p+"assets/img/20180805151546815-1581514954520.96faac3a.png"},968:function(s,a,t){s.exports=t.p+"assets/img/20180616132724160-1581514954521.cefcd236.png"},969:function(s,a,t){s.exports=t.p+"assets/img/20180616132943249-1581514954521.3d92a50e.png"},970:function(s,a,t){s.exports=t.p+"assets/img/2018061613311477-1581514954521.e2004710.png"},971:function(s,a,t){s.exports=t.p+"assets/img/2018061613331047-1581514954521.d64cb663.png"},972:function(s,a,t){s.exports=t.p+"assets/img/20180616134501823-1581514954521.3599cdb5.png"},973:function(s,a,t){s.exports=t.p+"assets/img/20180616135048574-1581514954521.520bb9cf.png"},974:function(s,a,t){s.exports=t.p+"assets/img/20180616135352989-1581514954521.ef998ce1.png"},975:function(s,a,t){s.exports=t.p+"assets/img/20180616135636811-1581514954521.75c02a01.png"},976:function(s,a,t){s.exports=t.p+"assets/img/20180616140000905-1581514954521.8284b108.png"},977:function(s,a,t){s.exports=t.p+"assets/img/20180616140122839-1581514954521.ffbb900c.png"},978:function(s,a,t){s.exports=t.p+"assets/img/20180616140240794-1581514954521.d40d58c2.png"},979:function(s,a,t){s.exports=t.p+"assets/img/20180616141444154-1581514954521.523713f6.png"},980:function(s,a,t){s.exports=t.p+"assets/img/20180616141452375-1581514954521.1e02f981.png"},981:function(s,a,t){s.exports=t.p+"assets/img/1204916-20171202113104229-190921891-1581514954521.789ffed8.png"},982:function(s,a,t){s.exports=t.p+"assets/img/1204916-20171202113113058-1658955278-1581514954521.fd8c65b5.png"},983:function(s,a){s.exports="data:image/png;base64,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"},984:function(s,a,t){s.exports=t.p+"assets/img/1204916-20171202113131761-6927531-1581514954521.da3a3478.png"},985:function(s,a,t){s.exports=t.p+"assets/img/1204916-20171202113142604-1237551286-1581514954521.84d35081.png"},986:function(s,a,t){s.exports=t.p+"assets/img/1204916-20171202113150479-1838545643-1581514954521.9420ed0d.png"},987:function(s,a,t){s.exports=t.p+"assets/img/1204916-20171202113158901-587145295-1581514954521.c7044259.png"},988:function(s,a,t){s.exports=t.p+"assets/img/1204916-20171202113209698-2146797322-1581514954521.a5879bff.png"},989:function(s,a,t){s.exports=t.p+"assets/img/无标题-1555110317243-1581514954521.abd890c5.png"},990:function(s,a,t){s.exports=t.p+"assets/img/1190037-20171127162727784-599308853.7e7ffd81.png"},991:function(s,a,t){s.exports=t.p+"assets/img/1190037-20171127162738565-738384915.d67517e9.png"},992:function(s,a,t){s.exports=t.p+"assets/img/1190037-20171127162750784-48883054.4369ef0b.png"},993:function(s,a){s.exports="data:image/png;base64,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"},994:function(s,a,t){s.exports=t.p+"assets/img/1190037-20171127162808253-922440046.e022a7e8.png"},995:function(s,a,t){s.exports=t.p+"assets/img/1190037-20171127162819378-1066040054.c6a6993c.png"},996:function(s,a,t){s.exports=t.p+"assets/img/1190037-20171127163059878-505035611.41d08f7b.png"},997:function(s,a,t){s.exports=t.p+"assets/img/1190037-20171127163107737-761922553.b093d4a2.png"},998:function(s,a,t){s.exports=t.p+"assets/img/1190037-20171127163113909-1086285598.89f06047.png"}}]);